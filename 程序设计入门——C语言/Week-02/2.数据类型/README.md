# 数据类型

- 整数
  - int
    - printf("%d", ...)
    - scanf("%d", ...)
- 带小数点的数
  - double
    - printf("%lf", ...)
    - scanf("%lf", ...)
  - float
    - printf("%lf", ...)
    - scanf("%lf", ...)

## 计算身高的程序

### 身高 5 尺 7 寸

- 美国人固执地使用英制计量单位，它们习惯用几尺几寸（英寸英尺）来报自己的身高。如果遇到一个美国人告诉你他是 5 英尺 7，他的身高应该是一米几呢？
  - (5 + 7 / 12) \* 0.3048 = 1.7018 米
  - 英寸:英尺 => 1:12
  - 英尺:米 => 1:0.3048

```c++
#include <stdio.h>

int main()
{
    printf("请分别输入身高的英尺和英寸，"
           "如输入\"5 7\"表示5英尺7英寸：");

    int foot, inch;

    scanf("%d %d", &foot, &inch);
    printf("身高是 %f 米。\n", ((foot + inch / 12) * 0.3048));

    return 0;
}
```

执行计算身高的程序，输入不同几组数据之后，得到的结果不符合预期：

- 输入：5 7
  - 输出：身高是 1.524000 米。
- 输入：5 1
  - 输出：身高是 1.524000 米。
- 输入：6 7
  - 输出：身高是 1.828800 米。

### 原因

- 因为两个整数的运算的结果只能是整数
  - 10/3\*3 => ?
- 10 和 10.0 在 C 中是完全不同的数
- 10.0 是浮点数

### 改进计算程序

方式一：将被除数由整数 12 改为浮点数 12.0

```diff
- printf("身高是 %f 米。\n", ((foot + inch / 12) * 0.3048));
+ printf("身高是 %f 米。\n", ((foot + inch / 12.0) * 0.3048));
```

当浮点数和整数放到一起运算时，C 语言会将整数转换为浮点数，然后进行浮点数的运算。

方式二：改用 double 关键词来定义双精度浮点数类型的变量，不必修改再被除数

```diff
- int foot, inch;
+ double foot, inch;

- scanf("%d %d", &foot, &inch);
+ scanf("%lf %lf", &foot, &inch);
```

或者使用 float 关键词定义单精度浮点数的变量：

```diff
- int foot, inch;
+ float foot, inch;

- scanf("%d %d", &foot, &inch);
+ scanf("%f %f", &foot, &inch);
```

## 浮点数

### 什么是浮点数

- 带小数点的数值。浮点这个词的本意就是指小数点是浮动的，是计算机内部表达飞整数（包含分数和无理数）的一种方式。
- 另一种方式叫做定点数，不过在 C 语言中你不会遇到定点数。人们借用浮点数这个词来表达所有带小数点的数。

### double

- inch 是定义为 int 类型的变量，如果把 int 换成 double，我们就把它改为 double 类型的浮点数变量了。
- double 的中文意思是”双“，它本来就是”双精度浮点数“的第一个单词，人们它来表示浮点数类型。除了 double，还有 float（中文意思就是浮点）表示单精度浮点数。
